<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test Payment Setup</title>
  <style>body{font-family:Arial,Helvetica,sans-serif;padding:20px}</style>
</head>
<body>
  <h1>Test: Seed Mock Booking</h1>
  <p>This page will create a mock booking in localStorage and then open <strong>payment.html</strong>.</p>
  <button id="seed">Create Booking & Open Payment</button>
  <script>
    document.getElementById('seed').addEventListener('click', function(){
      const bookings = JSON.parse(localStorage.getItem('BOOKINGS') || '[]');
      const id = 9999;
      // Remove any existing test booking with same id
      const filtered = bookings.filter(b => b.id !== id);
      const newBooking = {
        id: id,
        email: 'tester@example.com',
        seats: ['A1','A2'],
        status: 'pending',
        expireAt: Date.now() + 10*60*1000 // 10 minutes
      };
      filtered.push(newBooking);
      localStorage.setItem('BOOKINGS', JSON.stringify(filtered));
      // Open payment page for this booking
      window.location.href = 'payment.html?bookingId=' + id;
    });
  </script>
</body>
</html>
